{
  "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "VNetRegion": {
      "type": "string",
      "allowedValues": [ "North Europe" ],
      "metadata": {
        "description": "Region where we need to create the VNet"
      }
    },
    "AddressSpace": {
      "type": "string",
      "metadata": {
        "description": "Address Space for the VNet"
      }
    },
    "AddressSpaceCIDR": {
      "type": "int",
      "metadata": {
        "description": "CIDR for Address Space for the VNet"
      }
    },
    "AddressSpaceCode": {
      "type": "int",
      "metadata": {
        "description": "Address Space Code for the VNet"
      }
    }


  },
  "variables": {},
  "resources": [
    {

      "name": "[concat('MAHS-AVN-EN', parameters('AddressSpaceCode'))]",
      "type": "Microsoft.Network/virtualNetworks",
      "location": "[parameters('VNetRegion')]",
      "apiVersion": "2016-03-30",
      "tags": {
        "ApexDeploymentName": " ",
        "MRID": " ",
        "Environment": " ",
        "MRLIID": " ",
        "LOB": " ",
        "Administrator": "stuart.mann@t-systems.com",
        "MonthlySpendingLimit": "0",
        "BillingScenario": "SharedPrivate",
        "ServiceLevel": " ",
        "ApexDeploymentId": " ",
        "MRS2C": "n.a.",
        "Purpose": "Managing MAHS (Private Run Book Workers, Windows Update Services, ..) 'North Europe']",
        "Owner": "MAHS-Platform"
      },
      "dependsOn": [],
      "properties": {
        "addressSpace": {
          "addressPrefixes": [
            "[concat(parameters('AddressSpace'),'/',parameters('AddressSpaceCIDR'))]"
          ]

        },
        "subnets": [
          {
            "name": "Management",
            "properties": {
              "addressPrefix": "[concat(parameters('AddressSpace'),'/','24')]"
            }
          }
        ]
      }
    }
  ],
  "outputs": {}
}